# JSON to TXT Converter for Motion Capture Data

This script converts JSON files containing motion capture data to TXT format (which are actually JSON files with the `.txt` extension following the target format).

## Usage

The script supports both single file conversion and batch processing:

### Single File Conversion
```bash
python json_to_txt.py --input_file input.json --output output.txt
```

Or specify an output directory for the single file:
```bash
python json_to_txt.py --input_file input.json --output /path/to/output/directory/
```

### Batch Conversion
```bash
python json_to_txt.py --input_dir /path/to/input/directory --output /path/to/output/directory
```

## Format Conversion

The script converts from the JSON format generated by the gait generator to the format required for AWD and AMP hardware:

### Input Format (from gait_generator.py):
- root_position (x, y, z)
- root_orientation_quat (qw, qx, qy, qz) 
- joints_positions
- left_toe_pos (x, y, z)
- right_toe_pos (x, y, z)
- world_linear_vel (x, y, z)
- world_angular_vel (x, y, z)
- joints_vel
- left_toe_vel (x, y, z)
- right_toe_vel (x, y, z)
- foot_contacts (left, right)

### Output Format (for AWD/AMP hardware):
- x, y, z (root position)
- qx, qy, qz, qw (root orientation with quaternion order changed)
- joint poses (rotations)
- target toe positions (l_toe_x, l_toe_y, l_toe_z, r_toe_x, r_toe_y, r_toe_z)
- linear velocity (lin_vel_x, lin_vel_y, lin_vel_z)
- angular velocity (ang_vel_x, ang_vel_y, ang_vel_z)
- joint velocities
- target toe velocities

## Features
- Validates input format and reports errors
- Handles variable joint counts automatically
- Preserves all motion data during conversion
- Supports batch processing of multiple files
- Maintains proper quaternion ordering for target system